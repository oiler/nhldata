# NHL Test Games Dataset

Curated selection of games for validating the v2 timeline generator. These 8 games provide 100% coverage of all 25 situationCodes found in actual gameplay.

## Selected Games

| Game ID | Unique Codes | New Codes Added | Cumulative Coverage |
|---------|--------------|-----------------|---------------------|
| 2025020153 | 11 | +11 | 11/25 |
| 2025020385 | 10 | +4 | 15/25 |
| 2025020655 | 11 | +2 | 17/25 |
| 2025020470 | 10 | +2 | 19/25 |
| 2025020620 | 7 | +2 | 21/25 |
| 2025020663 | 7 | +2 | 23/25 |
| 2025020679 | 10 | +1 | 24/25 |
| 2025020734 | 10 | +1 | 25/25 |

## SituationCode Coverage

All 25 codes found in actual gameplay:

```
0101, 0431, 0531, 0541, 0551, 0631, 0641, 0651, 0660,
1010, 1331, 1340, 1341, 1350, 1351, 1431, 1441, 1450,
1451, 1460, 1531, 1541, 1550, 1551, 1560
```

### Code Format Reference

Format: `[Away Goalie][Away Skaters][Home Skaters][Home Goalie]`

- First digit: Away goalie (1=in net, 0=pulled)
- Second digit: Away skaters (3-6)
- Third digit: Home skaters (3-6)
- Fourth digit: Home goalie (1=in net, 0=pulled)

### Common Codes

| Code | Meaning |
|------|---------|
| 1551 | 5v5, both goalies in |
| 1541 | Away PP (5v4), both goalies |
| 1451 | Home PP (4v5), both goalies |
| 1441 | 4v4, both goalies |
| 1331 | 3v3 OT, both goalies |
| 0651 | Home 6v5, away goalie pulled |
| 1560 | Away 5v6, home goalie pulled |
| 0101 | Penalty shot: away shooter vs home goalie |
| 1010 | Penalty shot: home shooter vs away goalie |

## Selection Methodology

Games selected using greedy algorithm:
1. Start with game having most unique codes
2. Iteratively add game contributing most new codes
3. Stop when 100% coverage achieved

Excluded from analysis:
- Period 5 (shootout) - occurs after playing time ends
- `period-end` events - have artificial situationCodes
- `game-end` events - have artificial situationCodes (e.g., 0440)

Included:
- Penalty shots (0101, 1010) - occur during live gameplay

## Usage

```bash
# Generate timelines for test games
python v2/timelines/generate_timeline.py 153 2025
python v2/timelines/generate_timeline.py 385 2025
# ... etc
```

## Generated By

Script: `tools/discover_test_games.py`
Date: 2026-02-04
Season: 2025 (games through 858)
